% Notes
\usepackage[usenames,dvipsnames]{xcolor}
\definecolor{purple}{rgb}{0.3,0.0,.4}
\newcommand{\mnote}[1]{\textcolor{purple}{\textbf{[MU: #1]}}}
\newcommand{\lnote}[1]{\textcolor{blue}{\textbf{[LD: #1]}}}
% for restatement of lemmas and theorems
\usepackage{thmtools}
\usepackage{thm-restate}
\usepackage{hyperref}
\usepackage{cleveref}
\RequirePackage{amsthm,amsmath}


\declaretheorem[name=Theorem,numberwithin=section]{thm}
% some traditional defintions that can be blamed on craig barratt
\newcommand{\BEAS}{\begin{eqnarray*}}
\newcommand{\EEAS}{\end{eqnarray*}}
\newcommand{\BEA}{\begin{eqnarray}}
\newcommand{\EEA}{\end{eqnarray}}
\newcommand{\BEQ}{\begin{equation}}
\newcommand{\EEQ}{\end{equation}}
\newcommand{\BIT}{\begin{itemize}}
\newcommand{\EIT}{\end{itemize}}
\newcommand{\BNUM}{\begin{enumerate}}
\newcommand{\ENUM}{\end{enumerate}}

\newcommand{\beas}{\begin{eqnarray*}}
\newcommand{\eeas}{\end{eqnarray*}}
\newcommand{\bea}{\begin{eqnarray}}
\newcommand{\eea}{\end{eqnarray}}
\newcommand{\beq}{\begin{equation}}
\newcommand{\eeq}{\end{equation}}
\newcommand{\bit}{\begin{itemize}}
\newcommand{\eit}{\end{itemize}}
\newcommand{\ben}{\begin{enumerate}}
\newcommand{\een}{\end{enumerate}}

\newcommand{\ba}{\begin{array}}
\newcommand{\ea}{\end{array}}
\newcommand{\bbm}{\begin{bmatrix}}
\newcommand{\ebm}{\end{bmatrix}}

% text abbrevs
\newcommand{\cf}{{\it cf.}}
\newcommand{\eg}{{\it e.g.}}
\newcommand{\ie}{{\it i.e.}}
\newcommand{\etc}{{\it etc.}}

\newcommand{\ones}{\mathbf 1}

% std math stuff
\newcommand{\reals}{{\mbox{\bf R}}}
\newcommand{\integers}{{\mbox{\bf Z}}}
\newcommand{\eqbydef}{\mathrel{\stackrel{\Delta}{=}}}
\newcommand{\complex}{{\mbox{\bf C}}}
\newcommand{\sym}{{\mbox{\bf S}}}  % symmetric matrices

% lin alg stuff 
\newcommand{\Span}{\mbox{\textrm{span}}}
\newcommand{\range}{\mbox{\textrm{range}}}
\newcommand{\rank}{\mbox{\textrm{Rank}}}
\newcommand{\Rank}{\mbox{\textrm{Rank}}}
\newcommand{\nullspace}{{\mathcal {\bf nullspace}}}
\newcommand{\tr}{\mathop{\bf tr}}
\newcommand{\Tr}{\mathop{\bf tr}}
\newcommand{\diag}{\mathop{\bf diag}}
\newcommand{\lambdamax}{{\lambda_{\rm max}}}
\newcommand{\lambdamin}{\lambda_{\rm min}}
\newcommand{\ms}{\mathop{\bf MaxSingVec}}
% probability stuff
\newcommand{\Expect}{\mathop{\bf E{}}}
\newcommand{\Prob}{\mathop{\bf Prob}}
\newcommand{\erf}{\mathop{\bf erf}}
\newcommand{\sign}{\mathop{\bf sign}}

% convexity & optimization stuff
\newcommand{\Co}{{\mathop {\bf Co}}}
\newcommand{\co}{{\mathop {\bf Co}}}
\newcommand{\Var}{\mathop{\bf var{}}}
\newcommand{\dist}{\mathop{\bf dist{}}}
\newcommand{\Ltwo}{{\bf L}_2}
%\renewcommand{\QED}{~~\rule[-1pt]{8pt}{8pt}}\def\qed{\QED}
\newcommand{\approxleq}{\mathrel{\smash{\makebox[0pt][l]{\raisebox{-3.4pt}{\small$\sim$}}}{\raisebox{1.1pt}{$<$}}}}
\newcommand{\argmin}{\mathop{\rm argmin}}
\newcommand{\epi}{\mathop{\bf epi}}
%\newcommand{\hypo}{\mathop{\bf hypo}}
\newcommand{\var}{\mathop{\bf var}}
\newcommand{\Card}{\mathop{\bf card}}
\newcommand{\vol}{\mathop{\bf vol}}
\newcommand{\card}{\mathop{\bf card}}
\newcommand{\conv}{\mathop{\bf conv}}
\newcommand{\dom}{\mathop{\bf dom}}
\newcommand{\aff}{\mathop{\bf aff}}
\newcommand{\cl}{\mathop{\bf cl}}
\newcommand{\Angle}{\mathop{\bf angle}}
\newcommand{\intr}{\mathop{\bf int}}
\newcommand{\relint}{\mathop{\bf rel int}}
\newcommand{\bd}{\mathop{\bf bd}}
\newcommand{\vect}{\mathop{\bf vec}}
\newcommand{\dsp}{\displaystyle}
\newcommand{\foequal}{\simeq}
\newcommand{\VOL}{{\mbox{\bf vol}}}
\newcommand{\argmax}{\mathop{\rm argmax}}
\newcommand{\xopt}{x^{\rm opt}}
\newcommand{\prox}{{\bf prox}}
\newcommand{\conj}{{\bf conj}}
\newcommand{\update}{\mathop{\bf update}}
\newcommand{\indicator}{{\bf 1}}

% for statistics
\newcommand{\huber}{\mathop{\bf huber}}
\newcommand{\sort}{\mathop{\bf sort}}
\newcommand{\round}{\mathop{\bf round}}


% for prettiness
\newcommand{\half}{(1/2)}

% for constants 
\newcommand{\constanta}{\frac{\sigma_{\min}(\mathcal{A}_{V^\star})}{4\|\mathcal{A}\|_{op}}}
\newcommand{\constantb}{\frac{2\cdot \constanta \lambda_{\min>0}(Z^\star)}{4\frac{1}{\sigma_{\min}(\mathcal{D})}\sqrt{1+4\cdot \constanta}+1}}
\newcommand{\constantc}{\frac{2\cdot \constantb\lambda_{\min>0}(X^\star)}{\sqrt{4\|Z^\star\|_{op}+4\constantb}+4\|Z^\star\|_{op}}} 
\newcommand{\constantd}{\frac{\lambda^2_{n-r}(Z^\star)}{\frac{1}{\sigma^2_{\min}(\mathcal{D})}(4\sqrt{\|Z^\star\|_{op}}+2\sqrt{ \frac{\lambda_{n-r}(Z^\star)}{\frac{1}{\sigma_{\min}(\mathcal{D})}}})^2}\lambda_{\min >0}(X^\star)}
\newcommand{\constante}{ \frac{\lambda_{\min>0}(X^\star)\|Z^\star\|_{op}}{10(\frac{1}{\sigma_{\min}(\mathcal{D})}+\frac{1}{\sigma^2_{\min}(\mathcal{D})}}}
\newcommand{\constantA}{\frac{\|\mathcal{A}(VSV^\top)-b\|}{\sigma_{\min}(\mathcal{A}_V)} +\|S\|_{op}}
\newcommand{\constantD}{(1+\kappa)\frac{\epsilon}{T}}
\newcommand{\constantE}{(1+\kappa)\sqrt{\frac{\epsilon}{T}}}
\newcommand{\constantB}{\frac{1}{4}\biggr[ \sqrt{(\constantE)^2+4[\constantA] +4\constantD}+\constantE\biggr]^2}

% theorems
%\theoremstyle{definition} % don't italicize theorems
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{corollary}{Corollary}
\newtheorem{prop}{Proposition}
\newtheorem{definition}{Definition}
\newtheorem{remark}{Remark}

% alg description --- not much for now!
\newenvironment{algdesc}%
{\begin{quote}}{\end{quote}}

% figures
\def\figbox#1{\framebox[\hsize]{\hfil\parbox{0.9\hsize}{#1}}}
% figure size
\makeatletter
\newlength \figwidth
\if@twocolumn
  \setlength \figwidth {0.9\columnwidth}
\else
  \setlength \figwidth {0.5\textwidth}
\fi
\makeatother

% \showthe\figwidth

% captions a la sirev
\makeatletter
\long\def\@makecaption#1#2{
   \vskip 9pt
   \begin{small}
   \setbox\@tempboxa\hbox{{\bf #1:} #2}
   \ifdim \wd\@tempboxa > 5.5in
        \begin{center}
        \begin{minipage}[t]{5.5in}
        \addtolength{\baselineskip}{-0.95pt}
        {\bf #1:} #2 \par
        \addtolength{\baselineskip}{0.95pt}
        \end{minipage}
        \end{center}
   \else
	\hbox to\hsize{\hfil\box\@tempboxa\hfil}
   \fi
   \end{small}\par
}
\makeatother